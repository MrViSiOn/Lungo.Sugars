(function(){var a;a=function(){var e,f,h;f=[];h=function(b,d){b=b||f;b.__proto__=h.prototype;b.selector=d||"";return b};e=function(b){var d;if(b){d=e.getDomainSelector(b);return h(d,b)}else return h()};e.extend=function(b){Array.prototype.slice.call(arguments,1).forEach(function(d){var c,g;g=[];for(c in d)g.push(b[c]=d[c]);return g});return b};h.prototype=e.fn={};return e}();window.Quo=a;"$$"in window||(window.$$=a)}).call(this);
(function(){(function(a){var e,f,h,b;e=[];f=Object.prototype;a.toType=function(d){return f.toString.call(d).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()};a.isOwnProperty=function(d,c){return f.hasOwnProperty.call(d,c)};a.getDomainSelector=function(d){var c,g,m;c=null;g=[1,9,11];m=a.toType(d);if(m==="array")c=h(d);else if(m==="string")c=a.query(document,d);else if(g.indexOf(d.nodeType)>=0||d===window)c=[d];return c};a.map=function(d,c){var g,m,k;k=[];g=void 0;if(a.toType(d)==="array")for(g=0;g<d.length;){m=
c(d[g],g);m!=null&&k.push(m);g++}else for(g in d){m=c(d[g],g);m!=null&&k.push(m)}return b(k)};a.each=function(d,c){var g;g=void 0;if(a.toType(d)==="array")for(g=0;g<d.length;){if(c.call(d[g],g,d[g])===false)break;g++}else for(g in d)if(c.call(d[g],g,d[g])===false)break;return d};a.mix=function(){var d,c,g,m,k;g={};d=0;for(m=arguments.length;d<m;){c=arguments[d];for(k in c)if(a.isOwnProperty(c,k)&&c[k]!==undefined)g[k]=c[k];d++}return g};a.fn.map=function(d){return a.map(this,function(c,g){return d.call(c,
g,c)})};a.fn.instance=function(d){return this.map(function(){return this[d]})};a.fn.filter=function(d){return a([].filter.call(this,function(c){return c.parentNode&&a.query(c.parentNode,d).indexOf(c)>=0}))};a.fn.forEach=e.forEach;a.fn.indexOf=e.indexOf;h=function(d){return d.filter(function(c){return c!==void 0&&c!==null})};b=function(d){return d.length>0?[].concat.apply([],d):d}})(Quo)}).call(this);
(function(){(function(a){a.fn.attr=function(e,f){return a.toType(e)==="string"&&f===void 0?this[0].getAttribute(e):this.each(function(){return this.setAttribute(e,f)})};a.fn.data=function(e,f){return this.attr("data-"+e,f)};a.fn.val=function(e){return a.toType(e)==="string"?this.each(function(){return this.value=e}):this.length>0?this[0].value:null};a.fn.show=function(){return this.style("display","block")};a.fn.hide=function(){return this.style("display","none")};a.fn.height=function(){return this.offset().height};
a.fn.width=function(){return this.offset().width};a.fn.offset=function(){var e;e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}};a.fn.remove=function(){return this.each(function(){if(this.parentNode!=null)return this.parentNode.removeChild(this)})}})(Quo)}).call(this);
(function(){(function(a){var e,f,h,b,d,c,g;h=null;e=/WebKit\/([\d.]+)/;f={Android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,blackberry:/(BlackBerry).*Version\/([\d.]+)/,webos:/(webOS|hpwOS)[\s\/]([\d.]+)/};a.isMobile=function(){h=h||d();return h.isMobile};a.environment=function(){return h=h||d()};a.isOnline=function(){return navigator.onLine};d=function(){var m,k;k=navigator.userAgent;m={};m.browser=b(k);m.os=c(k);m.isMobile=m.os?true:false;m.screen=g();return m};
b=function(m){var k;return(k=m.match(e))?k[0]:m};c=function(m){var k,o,l;k=void 0;for(o in f)if(l=m.match(f[o])){k={name:o==="iphone"||o==="ipad"?"ios":o,version:l[2].replace("_",".")};break}return k};g=function(){return{width:window.innerWidth,height:window.innerHeight}}})(Quo)}).call(this);
(function(){(function(a){a.fn.text=function(e){return e?this.each(function(){return this.textContent=e}):this[0].textContent};a.fn.html=function(e){var f;f=a.toType(e);return f==="string"||f==="number"?this.each(function(){return this.innerHTML=e}):this[0].innerHTML};a.fn.append=function(e){return this.each(function(){var f;if(a.toType(e)==="string"){if(e){f=document.createElement("div");f.innerHTML=e;return this.appendChild(f.firstChild)}}else return this.insertBefore(e)})};a.fn.prepend=function(e){return this.each(function(){var f;
if(a.toType(e)==="string")return this.innerHTML=e+this.innerHTML;else{f=this.parentNode;return f.insertBefore(e,f.firstChild)}})};a.fn.empty=function(){return this.each(function(){this.innerHTML=null})}})(Quo)}).call(this);
(function(){(function(a){var e,f;a.query=function(h,b){var d;d=h.querySelectorAll(b);return d=Array.prototype.slice.call(d)};a.fn.find=function(h){var b;b=void 0;b=this.length===1?Quo.query(this[0],h):this.map(function(){return Quo.query(this,h)});return a(b)};a.fn.parent=function(h){var b;b=h?f(this):this.instance("parentNode");return e(b,h)};a.fn.siblings=function(h){var b;b=this.map(function(d,c){return Array.prototype.slice.call(c.parentNode.children).filter(function(g){return g!==c})});return e(b,
h)};a.fn.children=function(h){var b;b=this.map(function(){return Array.prototype.slice.call(this.children)});return e(b,h)};a.fn.get=function(h){return h===undefined?this:this[h]};a.fn.first=function(){return a(this[0])};a.fn.last=function(){return a(this[this.length-1])};a.fn.closest=function(h,b){var d,c;c=this[0];d=a(h);for(d.length||(c=null);c&&d.indexOf(c)<0;)c=c!==b&&c!==document&&c.parentNode;return a(c)};a.fn.each=function(h){this.forEach(function(b,d){return h.call(b,d,b)});return this};
f=function(h){var b;for(b=[];h.length>0;)h=a.map(h,function(d){if((d=d.parentNode)&&d!==document&&b.indexOf(d)<0){b.push(d);return d}});return b};e=function(h,b){return b===undefined?a(h):a(h).filter(b)}})(Quo)}).call(this);
(function(){(function(a){var e,f;a.fn.addClass=function(h){return this.each(function(){if(!f(h,this.className)){this.className+=" "+h;return this.className=this.className.trim()}})};a.fn.removeClass=function(h){return this.each(function(){if(f(h,this.className))return this.className=this.className.replace(h," ").replace(/\s+/g," ").trim()})};a.fn.toggleClass=function(h){return this.each(function(){if(f(h,this.className))return this.className=this.className.replace(h," ");else{this.className+=" "+
h;return this.className=this.className.trim()}})};a.fn.hasClass=function(h){return f(h,this[0].className)};a.fn.style=function(h,b){return b?this.each(function(){return this.style[h]=b}):this[0].style[h]||e(this[0],h)};f=function(h,b){return b.split(/\s+/g).indexOf(h)>=0};e=function(h,b){return document.defaultView.getComputedStyle(h,"")[b]}})(Quo)}).call(this);
(function(){(function(a){var e,f,h,b,d,c,g,m,k,o;e={TYPE:"GET",MIME:"json"};h={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"};f=0;a.ajaxSettings={type:e.TYPE,async:true,success:{},error:{},context:null,dataType:e.MIME,headers:{},xhr:function(){return new window.XMLHttpRequest},crossDomain:false,timeout:0};a.ajax=function(l){var i,j,n;j=a.mix(a.ajaxSettings,l);if(b(j.url))return a.jsonp(j);n=j.xhr();n.onreadystatechange=
function(){if(n.readyState===4){clearTimeout(i);return m(n,j)}};n.open(j.type,j.url,j.async);g(n,j);if(j.timeout>0)i=setTimeout(function(){return o(n,j)},j.timeout);n.send(j.data);return j.async?n:d(n,j)};a.jsonp=function(l){var i,j,n,p;if(l.async){j="jsonp"+ ++f;n=document.createElement("script");p={abort:function(){a(n).remove();if(j in window)return window[j]={}}};i=void 0;window[j]=function(q){clearTimeout(i);a(n).remove();delete window[j];return k(q,p,l)};n.src=l.url.replace(/=\?/,"="+j);a("head").append(n);
if(l.timeout>0)i=setTimeout(function(){return o(p,l)},l.timeout);return p}else return console.error("ERROR: Unable to make jsonp synchronous call.")};a.get=function(l,i,j,n){l+=a.serializeParameters(i);return a.ajax({url:l,success:j,dataType:n})};a.post=function(l,i,j,n){return a.ajax({type:"POST",url:l,data:i,success:j,dataType:n,contentType:"application/x-www-form-urlencoded"})};a.json=function(l,i,j){l+=a.serializeParameters(i);return a.ajax({url:l,success:j,dataType:e.MIME})};a.serializeParameters=
function(l){var i,j;j="?";for(i in l)if(l.hasOwnProperty(i)){if(j!=="?")j+="&";j+=i+"="+l[i]}return j==="?"?"":j};m=function(l,i){if(l.status===200||l.status===0)i.async&&k(d(l,i),l,i);else c("QuoJS \u00bb $$.ajax",l,i)};k=function(l,i,j){j.success.call(j.context,l,i)};c=function(l,i,j){j.error.call(j.context,l,i,j)};g=function(l,i){var j;if(i.contentType)i.headers["Content-Type"]=i.contentType;if(i.dataType)i.headers.Accept=h[i.dataType];for(j in i.headers)l.setRequestHeader(j,i.headers[j])};o=function(l,
i){l.onreadystatechange={};l.abort();c("QuoJS \u00bb $$.ajax : timeout exceeded",l,i)};d=function(l,i){var j;if(j=l.responseText)if(i.dataType===e.MIME)try{j=JSON.parse(j)}catch(n){j=n;c("Parse Error",l,i)}else if(i.dataType==="xml")j=l.responseXML;return j};b=function(l){return/=\?/.test(l)}})(Quo)}).call(this);
(function(){(function(a){var e,f;e=/complete|loaded|interactive/;f={touch:"touchstart",tap:"tap"};["touch","tap"].forEach(function(h){a.fn[h]=function(b){return a(document.body).delegate(this.selector,f[h],b)};return this});a.fn.on=function(h,b,d){return b===undefined||a.toType(b)==="function"?this.bind(h,b):this.delegate(b,h,d)};a.fn.off=function(h,b,d){return b===undefined||a.toType(b)==="function"?this.unbind(h,b):this.undelegate(b,h,d)};a.fn.ready=function(h){e.test(document.readyState)?h(a):
a.fn.addEvent(document,"DOMContentLoaded",function(){return h(a)});return this}})(Quo)}).call(this);
(function(){(function(a){var e,f,h,b,d,c,g,m,k,o,l;e=1;b={};h={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};f={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",tap:"click",doubletap:"dblclick",orientationchange:"resize"};a.Event=function(i,j){var n;n=document.createEvent("Events");n.initEvent(i,true,true,null,null,null,null,null,null,null,null,null,null,null,null);if(j){n.pageX=j.x1;n.pageY=j.y1;
n.toX=j.x2;n.toY=j.y2;n.fingers=j.fingers}return n};a.fn.bind=function(i,j){return this.each(function(){o(this,i,j)})};a.fn.unbind=function(i,j){return this.each(function(){l(this,i,j)})};a.fn.delegate=function(i,j,n){return this.each(function(p,q){o(q,j,n,i,function(r){return function(s){var u,t;if(t=a(s.target).closest(i,q).get(0)){u=a.extend(d(s),{currentTarget:t,liveFired:q});return r.apply(t,[u].concat([].slice.call(arguments,1)))}}})})};a.fn.undelegate=function(i,j,n){return this.each(function(){l(this,
j,n,i)})};a.fn.trigger=function(i,j){if(a.toType(i)==="string")i=a.Event(i,j);return this.each(function(){this.dispatchEvent(i)})};a.fn.addEvent=function(i,j,n){return i.addEventListener?i.addEventListener(j,n,false):i.attachEvent?i.attachEvent("on"+j,n):i["on"+j]=n};a.fn.removeEvent=function(i,j,n){return i.removeEventListener?i.removeEventListener(j,n,false):i.detachEvent?i.detachEvent("on"+j,n):i["on"+j]=null};o=function(i,j,n,p,q){var r;j=g(j);r=k(i);r=b[r]||(b[r]=[]);q=q&&q(n,j);j={event:j,callback:n,
selector:p,proxy:c(q,n,i),delegate:q,index:r.length};r.push(j);return a.fn.addEvent(i,j.event,j.proxy)};l=function(i,j,n,p){var q;j=g(j);q=k(i);return m(q,j,n,p).forEach(function(r){delete b[q][r.index];return a.fn.removeEvent(i,r.event,r.proxy)})};k=function(i){return i._id||(i._id=e++)};g=function(i){return(a.isMobile()?i:f[i])||i};c=function(i,j,n){j=i||j;return function(p){var q;q=j.apply(n,[p].concat(p.data));q===false&&p.preventDefault();return q}};m=function(i,j,n,p){return(b[i]||[]).filter(function(q){return q&&
(!j||q.event===j)&&(!n||q.fn===n)&&(!p||q.selector===p)})};d=function(i){var j;j=a.extend({originalEvent:i},i);a.each(h,function(n,p){j[n]=function(){this[p]=function(){return true};return i[n].apply(i,arguments)};return j[p]=function(){return false}});return j}})(Quo)}).call(this);
(function(){(function(a){var e,f,h,b,d,c,g,m,k,o,l,i,j,n;e={};f=void 0;["doubleTap","hold","swipe","swiping","swipeLeft","swipeRight","swipeUp","swipeDown","drag"].forEach(function(p){a.fn[p]=function(q){return this.on(p,q)}});a(document).ready(function(){return m()});m=function(){var p;p=a(document.body);p.bind("touchstart",l);p.bind("touchmove",o);p.bind("touchend",k);return p.bind("touchcancel",b)};l=function(p){var q,r,s;r=Date.now();q=r-(e.last||r);s=h(p);f&&clearTimeout(f);e={el:a(i(s.target)),
x1:s.pageX,y1:s.pageY,isDoubleTap:q>0&&q<=250?true:false,last:r,fingers:d(p)};return setTimeout(c,650)};o=function(p){var q;q=h(p);e.x2=q.pageX;e.y2=q.pageY;if(g(p))return e.el.trigger("swiping",e)};k=function(p){if(e.isDoubleTap)return n("doubleTap",true);else if(e.x2>0||e.y2>0){if(g(p))if(e.fingers===1){n("swipe",false);p=j(e.x1,e.x2,e.y1,e.y2);n(p,false)}else n("drag",false);return b()}else{e.el&&n("tap");return f=setTimeout(b,250)}};n=function(p,q){e.el.trigger(p,e);return q&&b()};b=function(){e=
{};return clearTimeout(f)};g=function(){return e.el&&(Math.abs(e.x1-e.x2)>30||Math.abs(e.y1-e.y2)>30)};h=function(p){return a.isMobile()?p.touches[0]:p};i=function(p){return"tagName"in p?p:p.parentNode};j=function(p,q,r,s){return Math.abs(p-q)>=Math.abs(r-s)?p-q>0?"swipeLeft":"swipeRight":r-s>0?"swipeUp":"swipeDown"};c=function(){if(e.last&&Date.now()-e.last>=650){n("hold");b()}};d=function(p){return p.touches?p.touches.length:1}})(Quo)}).call(this);/*
   http://www.github.com/tapquo/lungo/blob/master/LICENSE.txt
 @version   2.0
 @link      https://github.com/TapQuo/Lungo.js

 @author   Javier Jimenez Villar <javi@tapquo.com> || @soyjavi
 @author   Guillermo Pascual <pasku@tapquo.com> || @pasku1
*/
var LUNGO=LUNGO||{};LUNGO.VERSION="2.0";LUNGO.Attributes||(LUNGO.Attributes={});LUNGO.Data||(LUNGO.Data={});LUNGO.Sugar||(LUNGO.Sugar={});LUNGO.View||(LUNGO.View={});LUNGO.Device||(LUNGO.Device={});LUNGO.ready||(LUNGO.ready=Quo().ready);LUNGO.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",BODY:"body",DIV:"div",LIST:"<ul></ul>",SPAN:"<span>&nbsp;</span>"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",CURRENT:"current",RIGHT:"onright",LEFT:"onleft",HORIZONTAL:"horizontal",SMALL:"small"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",TARGET:"target",FIRST:"first",LAST:"last",
EMPTY:""},BINDING:{START:"{{",END:"}}",KEY:"value",PARSER:/\{{.*?\}}/gi},ERROR:{CREATE_SCROLL:"ERROR: Impossible to create a <scroll> without ID.",BINDING_DATA_TYPE:"ERROR: Processing the type of binding data.",BINDING_TEMPLATE:"ERROR: Binding Template not exists >> ",BINDING_LIST:"ERROR: Processing parameters for list binding.",DATABASE:"ERROR: Connecting to Data.Sql.",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource."}};LUNGO.App=function(a){var e={id:1,name:"lungo_app",version:1,icon:""};return{init:function(f){e=a.Core.mix(e,f);a.Boot()},get:function(f){return e[f]}}}(LUNGO);LUNGO.Core=function(a,e){var f=Array.prototype,h=function(c,g){return e.isOwnProperty(c,g)},b=function(c){return e.toType(c)},d=function(c){return f.slice.call(c,0)};return{log:function(c,g){a.Core.isMobile()||console[c===1?"log":c===2?"warn":"error"](g)},execute:function(){var c=d(arguments),g=c.shift();b(g)==="function"&&g.apply(null,c)},bind:function(c,g){return function(){return g.apply(c,d(arguments))}},mix:function(){for(var c=c||{},g=0,m=arguments.length;g<m;g++){var k=arguments[g],o;for(o in k)if(h(k,
o))c[o]=k[o]}return c},isOwnProperty:h,toType:b,toArray:d,isMobile:function(){return e.isMobile()},environment:function(){return e.environment()},orderByProperty:function(c,g,m){var k=m==="desc"?-1:1;return c.sort(function(o,l){return o[g]<l[g]?-k:o[g]>l[g]?k:0})},parseUrl:function(c){var g=c.lastIndexOf("#");if(g>0)c=c.substring(g);else if(g===-1)c="#"+c;return c},findByProperty:function(c,g,m){for(var k=null,o=0,l=c.length;o<l;o++){var i=c[o];if(i[g]==m){k=i;break}}return k}}}(LUNGO,Quo);LUNGO.dom=function(a){return $$(a)};LUNGO.Service=function(a,e){var f={MINUTE:"minute",HOUR:"hour",DAY:"day"},h=function(b,d){var c=false,g=a.Data.Storage.persistent("lungojs_service_cache");if(g){g=g[b];c=(new Date).getTime();g=(new Date(g)).getTime();var m=c-g;c=d.split(" ");g=c[1];m=m/1E3/60;if(g.indexOf(f.HOUR)>=0)m/=60;else if(g.indexOf(f.DAY)>=0)m=m/60/24;c=m<c[0]?true:false}return c};return{get:function(b,d,c,g){return e.get(b,d,c,g)},post:function(b,d,c,g){return e.post(b,d,c,g)},json:function(b,d,c){return e.json(b,d,c)},cache:function(b,
d,c,g,m){var k=b+e.serializeParameters(d);if(h(k,c)){if(b=a.Data.Storage.persistent(k))return g.call(g,b)}else return e.get(b,d,function(o){var l=a.Data.Storage.persistent("lungojs_service_cache")||{};l[k]=new Date;a.Data.Storage.persistent("lungojs_service_cache",l);a.Data.Storage.persistent(k,o);g.call(g,o)},m)},Settings:e.ajaxSettings}}(LUNGO,Quo);LUNGO.Element={sections:null,Current:{section:null,article:null,aside:null},asides:null,toolbars:null};LUNGO.Fallback=function(a){return{androidInputs:function(e,f){environment=a.Core.environment();if(environment.isMobile&&environment.os.name==="android"&&environment.os.version<"4")for(var h=a.dom(e+" input, "+e+" textarea, "+e+" select"),b=0,d=h.length;b<d;b++)f?h[b].removeAttribute("disabled"):h[b].setAttribute("disabled","disabled")},positionFixed:function(e){environment=a.Core.environment();environment.isMobile&&environment.os.name==="ios"&&environment.os.version>="4.2"&&e.style("position","fixed")}}}(LUNGO);LUNGO.Router=function(a){var e=a.Constants.CLASS,f=a.Constants.ELEMENT,h=a.Constants.TRIGGER,b=a.Constants.ATTRIBUTE,d=function(c){c=a.Core.parseUrl(c);var g=a.Element.Current.section;if(c!=="#"+g.attr("id")?true:false){var m=a.Element.sections.siblings(f.SECTION+c);if(m.length>0){g.removeClass(e.SHOW).addClass(e.HIDE);m.addClass(e.SHOW);a.Element.Current.section=m;a.Element.Current.article=m.find(f.ARTICLE+"."+e.CURRENT);a.Router.History.add(c);g.trigger(h.UNLOAD);m.trigger(h.LOAD)}}};return{section:d,
article:function(c,g,m){g=a.Core.parseUrl(g);var k=a.Element.Current.article;if(g!=="#"+k.attr("id")?true:false){d(c);c=a.Element.Current.section.find(f.ARTICLE+g);if(c.length>0){k.parent("section").attr("id")===c.parent("section").attr("id")?k.removeClass(e.CURRENT):a.Element.Current.section.children(f.ARTICLE).removeClass(e.CURRENT);c.addClass(e.CURRENT);a.Element.Current.article=c;a.View.Article.switchNavItems(g);a.View.Article.switchReferenceItems(g,a.Element.Current.section);m&&a.View.Article.title(m.data(b.TITLE))}}},
aside:function(c,g){g=a.Core.parseUrl(g);a.View.Aside.toggle(g)},back:function(){var c=a.Element.Current.section;c.removeClass(e.SHOW);a.Router.History.removeLast();target=a.Element.sections.siblings(f.SECTION+a.Router.History.current());target.removeClass(e.HIDE).addClass(e.SHOW);var g=a.Element.Current.section=target;c.trigger(h.UNLOAD);g.trigger(h.LOAD)}}}(LUNGO);LUNGO.Router.History=function(){var a=[],e=function(){return a[a.length-1]};return{add:function(f){f!==e()&&a.push(f)},current:e,removeLast:function(){a.length-=1}}}();LUNGO.View.Article=function(a){var e=a.Constants.CLASS,f=a.Constants.ATTRIBUTE,h={NAVIGATION_ITEM:'a[href][data-target="article"]',REFERENCE_LINK:" a[href][data-article]",TITLE_OF_ARTICLE:"header .title, footer .title"};return{title:function(b){b&&a.Element.Current.section.find(h.TITLE_OF_ARTICLE).text(b)},switchReferenceItems:function(b,d){b=b.replace("#","");for(var c=d.find(h.REFERENCE_LINK),g=0,m=c.length;g<m;g++){var k=a.dom(c[g]);k.data(f.ARTICLE)===b?k.show():k.hide()}},switchNavItems:function(b){a.Element.Current.section.find(h.NAVIGATION_ITEM).removeClass(e.CURRENT);
a.Element.Current.section.find('a[href="'+b+'"][data-target="article"]').addClass(e.CURRENT)}}}(LUNGO);LUNGO.View.Resize=function(a){var e=a.Constants.ATTRIBUTE;return{toolbars:function(){if(!a.Element.toolbars)a.Element.toolbars=a.dom(".toolbar nav, .groupbar");for(var f=a.Element.toolbars,h=0,b=f.length;h<b;h++){var d=a.dom(f[h]),c=d.children();d=100/d.children().length;c.style(e.WIDTH,d+e.PERCENT)}}}}(LUNGO);LUNGO.View.Template=function(a){var e=a.Constants.ERROR,f={};return{create:function(h,b){f[h]=b},exists:function(h){return f[h]?true:false},get:function(h){return f[h]},render:function(h,b,d,c){if(a.View.Template.exists(b)){h=a.dom(h);b=this.markup(b,d);h.html(b);a.Core.execute(c)}else a.Core.log(3,e.BINDING_TEMPLATE+b)},markup:function(h,b){return a.View.Template.Binding.create(h,b)}}}(LUNGO);LUNGO.View.Template.Binding=function(a){var e=a.Constants.BINDING,f=a.Constants.ERROR,h=function(b,d){var c,g;for(g in b)if(a.Core.isOwnProperty(b,g)&&b[g]!==null){c=RegExp(e.START+g+e.END,"g");d=d.replace(c,b[g])}return d.replace(e.PARSER,"")};return{create:function(b,d){var c;var g=a.View.Template.get(b),m=a.Core.toType(d);if(m==="array"){c="";m=0;for(var k=d.length;m<k;m++)c+=h(d[m],g);c=c}else if(m==="object")c=h(d,g);else a.Core.log(3,f.BINDING_DATA_TYPE);return c},dataAttribute:function(b,d){var c=
b.data(d.tag);if(c){c=d.html.replace(e.START+e.KEY+e.END,c);b.prepend(c)}}}}(LUNGO);LUNGO.View.Template.List=function(a){var e=a.Constants.ERROR;return{create:function(f){f.container=a.dom(f.el).children().first();var h=false,b=!!f.container.length>0,d=a.View.Template.exists(f.template);if(b&&d){b=a.Core.toType(f.data);if(b==="array"||b==="object")h=true}else a.Core.log(3,e.BINDING_LIST);if(h){if(f.order&&f.order.field&&f.order.type)f.data=a.Core.orderByProperty(f.data,f.order.field,f.order.type);f.data=f.data;a.View.Template.render(f.container.selector,f.template,f.data)}},append:function(f){var h=
a.View.Template.markup(f.template,f.data);a.dom(f.el).children().first().append(h)},prepend:function(f){var h=a.View.Template.markup(f.template,f.data);a.dom(f.el).children().first().prepend(h)}}}(LUNGO);LUNGO.View.Aside=function(a){var e=a.Constants.ELEMENT,f=a.Constants.CLASS,h=a.Constants.ATTRIBUTE,b=function(d){d=d.attr(h.CLASS);var c="";if(d){c+=d.indexOf(f.RIGHT)>-1?f.RIGHT:"";c+=d.indexOf(f.SMALL)>-1?f.SMALL:""}return c};return{toggle:function(d){var c=a.Element.asides.siblings(e.ASIDE+d);if(c.length>0)c.hasClass(f.CURRENT)?a.View.Aside.hide():a.View.Aside.show(d)},show:function(d){d=a.Element.asides.siblings(e.ASIDE+d);if(d.length>0){a.Element.Current.aside=d;var c=b(d);d.addClass(f.CURRENT);
a.Element.Current.section.addClass(c).addClass(f.ASIDE)}},hide:function(){var d=a.Element.Current.aside;if(d){var c=b(d);a.Element.Current.section.removeClass(f.ASIDE).removeClass(c);setTimeout(function(){d.removeClass(f.CURRENT);a.Element.Current.aside=null},300)}}}}(LUNGO);LUNGO.View.Element=function(a){var e=a.Constants.ATTRIBUTE,f=a.Constants.BINDING,h={BUBBLE:".bubble.count",PROGRESS_VALUE:" .value",PROGRESS_PERCENTAGE:" .value .label"};return{count:function(b,d){var c=a.dom(b);if(c)if(d>0){var g=c.children(h.BUBBLE);if(g.length>0)g.html(d);else{g=LUNGO.Attributes.Data.Count.html.replace(f.START+f.KEY+f.END,d);c.append(g)}}else c.children(h.BUBBLE).remove()},progress:function(b,d,c){if(a.dom(b)){d+=e.PERCENT;a.dom(b+h.PROGRESS_VALUE).style(e.WIDTH,d);a.dom(b+h.PROGRESS_PERCENTAGE).html(c?
d:e.EMPTY)}},loading:function(b,d){var c=a.dom(b);if(c){var g=LUNGO.Attributes.Data.Loading.html.replace(f.START+f.KEY+f.END,d);c.append(g)}}}}(LUNGO);LUNGO.Attributes.Data={Search:{tag:"search",selector:".list",html:'<li class="search {{value}}"><input type="search" placeholder="Search..."><a href="#" class="button" data-icon="search"></a></li>'},Count:{tag:"count",selector:"*",html:'<span class="bubble count">{{value}}</span>'},Search:{tag:"search",selector:"*",html:'<input type="search" placeholder="{{value}}"/><a href="#" class="button" data-icon="search"></a>'},Progress:{tag:"progress",selector:"*",html:'<div class="progress">                    <span class="bar"><span class="value" style="width:{{value}};"><span class="label"></span></span></span>                </div>'},
Label:{tag:"label",selector:"a",html:"<abbr>{{value}}</abbr>"},Icon:{tag:"icon",selector:"*",html:'<span class="icon {{value}}"></span>'},Image:{tag:"image",selector:"*",html:'<img src="{{value}}" class="icon" />'},Title:{tag:"title",selector:"header, footer, article",html:'<span class="title centered">{{value}}</span>'},Loading:{tag:"loading",selector:"*",html:'<div class="loading {{value}}">                    <span class="top"></span>                    <span class="right"></span>                    <span class="bottom"></span>                    <span class="left"></span>                </div>'},
Back:{tag:"back",selector:"header, footer",html:'<nav class="onleft"><a href="#back" data-target="section" class="onleft"><span class="icon {{value}}"></span></a></nav>'}};LUNGO.Data.Cache=function(a,e){var f={},h=function(d){return arguments.length===1?f[d]:f[arguments[0]]?f[arguments[0]][arguments[1]]:e},b=function(d){return f[d]?true:false};return{set:function(d,c){f[d]=b(d)?a.Core.mix(h(d),c):c},get:h,remove:function(d){if(arguments.length===1)delete f[d];else delete f[arguments[0]][arguments[1]]},exists:b}}(LUNGO);LUNGO.Data.Sql=function(a){var e=a.Constants.ERROR,f={name:"lungo_db",version:"1.0",size:65536,schema:[]},h=null,b=function(k,o){a.Core.log(1,"lng.Data.Sql >> "+k);h.transaction(function(l){l.executeSql(k,[],function(i,j){c(o,j)},function(i){i.executedQuery=k;m.apply(null,arguments)})})},d=function(k,o){var l="",i;for(i in k)if(a.Core.isOwnProperty(k,i)){var j=k[i];if(l)l+=" "+o+" ";l+=i+"=";l+=isNaN(j)?'"'+j+'"':j}return l},c=function(k,o){a.Core.toType(k)==="function"&&setTimeout(k,100,o)},g=function(k,
o){var l="",i="",j;for(j in o)if(a.Core.isOwnProperty(o,j)){var n=o[j];l+=l?", "+j:j;if(i)i+=", ";i+=isNaN(n)?'"'+n+'"':n}b("INSERT INTO "+k+" ("+l+") VALUES ("+i+")")},m=function(k,o){a.Core.log(3,"lng.Data.Sql >> "+o.code+": "+o.message+" \n Executed query: "+k.executedQuery)};return{init:function(k){f=a.Core.mix(f,k);if(h=openDatabase(f.name,f.version,f.name,f.size)){k=f.schema;var o=k.length;if(o)for(var l=0;l<o;l++){var i=k[l];i.drop===true&&b("DROP TABLE IF EXISTS "+i.name);var j=i.name;i=i.fields;
var n="",p=void 0;for(p in i)if(a.Core.isOwnProperty(i,p)){if(n)n+=", ";n+=p+" "+i[p]}b("CREATE TABLE IF NOT EXISTS "+j+" ("+n+");")}}else a.Core.log(3,e.DATABASE)},select:function(k,o,l){o=o?" WHERE "+d(o,"AND"):"";b("SELECT * FROM "+k+o,function(i){for(var j=[],n=0,p=i.rows.length;n<p;n++)j.push(i.rows.item(n));c(l,j)})},insert:function(k,o){if(a.Core.toType(o)==="object")g(k,o);else for(row in o)g(k,o[row])},update:function(k,o,l){k="UPDATE "+k+" SET "+d(o,",");if(l)k+=" WHERE "+d(l,"AND");b(k)},
drop:function(k,o){var l=o?" WHERE "+d(o,"AND"):"";b("DELETE FROM "+k+l+";")},execute:b}}(LUNGO);LUNGO.Data.Storage=function(){var a={PERSISTENT:"localStorage",SESSION:"sessionStorage"},e=function(f,h,b){f=window[f];if(b){f=f;b=b;b=JSON.stringify(b);f.setItem(h,b)}else{b=b;b=f.getItem(h);return JSON.parse(b)}};return{session:function(f,h){return e(a.SESSION,f,h)},persistent:function(f,h){return e(a.PERSISTENT,f,h)}}}(LUNGO);LUNGO.Boot=function(a){return function(){a.Boot.Resources.start();a.Boot.Events.start();a.Boot.Data.start();a.Boot.Section.start();a.Boot.Article.start();a.Boot.Stats.start()}}(LUNGO);LUNGO.Boot.Resources=function(a,e){var f=a.Constants.ELEMENT,h=a.Constants.ERROR,b={SECTION:"sections",TEMPLATE:"templates",SCRIPT:"scripts"},d=function(c){return e.ajax({url:c,async:false,dataType:"html",error:function(){console.error("[ERROR] Loading url",arguments)}})};return{start:function(){var c=a.App.get("resources");for(resource_key in c){var g=resource_key,m=c[resource_key];for(index in m){var k=/http/.test(m[index])?m[index]:"app/"+g+"/"+m[index];try{var o=d(k);switch(g){case b.SECTION:a.Core.toType(o)===
"string"&&a.dom(f.BODY).append(o);break;case b.TEMPLATE:var l=document.createElement(f.DIV);l.innerHTML=o;var i=a.dom(l.firstChild).data("template");i&&a.View.Template.create(i,o)}}catch(j){a.Core.log(3,h.LOADING_RESOURCE+" "+j)}}}a.Element.sections=a.dom(f.SECTION);a.Element.asides=a.dom(f.ASIDE)}}}(LUNGO,Quo);LUNGO.Boot.Stats=function(a){var e=function(){a.Service.post("http://www.lungojs.com/stats/",{name:a.App.get("name"),version:a.App.get("version"),icon:a.App.get("icon")},function(){})};return{start:function(){a.Core.isMobile()&&e()}}}(LUNGO);LUNGO.Boot.Layout=function(a){var e=null,f=null,h=a.Constants.ELEMENT,b=a.Constants.ATTRIBUTE,d=function(){if(!location.hash||!e.addEventListener){e.scrollTo(0,1);var c=1,g=setInterval(function(){if(f.body){clearInterval(g);c="scrollTop"in f.body?f.body.scrollTop:1;e.scrollTo(0,c===1?0:1)}},15);e.addEventListener("load",function(){setTimeout(function(){e.scrollTo(0,c===1?0:1)},0)},false)}};return{start:function(){if(a.Core.isMobile()){e=window;f=e.document;if(e.innerHeight==356){a.dom(h.BODY).style(b.HEIGHT,
416+b.PIXEL);d()}}}}}(LUNGO);LUNGO.Boot.Article=function(a){var e=a.Constants.ATTRIBUTE,f=a.Constants.ELEMENT,h={LIST_IN_ARTICLE:"article.list, aside.list",CHECKBOX_IN_ARTICLE:".checkbox, .radio"},b=function(g,m){for(var k=a.dom(g),o=0,l=k.length;o<l;o++){var i=a.dom(k[o]);a.Core.execute(m,i)}},d=function(g){if(g.children().length===0){g.attr(e.ID);g.append(f.LIST)}},c=function(g){g.append(f.SPAN)};return{start:function(){b(h.LIST_IN_ARTICLE,d);b(h.CHECKBOX_IN_ARTICLE,c)}}}(LUNGO);LUNGO.Boot.Data=function(a){return{start:function(){var e=a.Attributes.Data,f;for(f in e)if(a.Core.isOwnProperty(e,f))for(var h=e[f],b=a.dom(h.selector),d=0,c=b.length;d<c;d++){var g=a.dom(b[d]);a.View.Template.Binding.dataAttribute(g,h)}}}}(LUNGO);LUNGO.Boot.Events=function(a){var e=a.Constants.ATTRIBUTE,f=a.Constants.ELEMENT,h={DOCUMENT:document,WINDOW:window,HREF_TARGET:"a[href][data-target]",HREF_TARGET_FROM_ASIDE:"aside a[href][data-target]",CURRENT_SECTION:"section.aside, section.current"},b=function(g){a.View.Resize.toolbars();g.preventDefault()},d=function(g){g.preventDefault();g=a.dom(this);switch(g.data(e.TARGET)){case f.SECTION:g=g.attr(e.HREF);c();g=a.Core.parseUrl(g);g==="#back"?a.Router.back():a.Router.section(g);break;case f.ARTICLE:var m=
a.Router.History.current(),k=g.attr(e.HREF);a.Router.article(m,k,g);break;case f.ASIDE:m=a.Router.History.current();g=g.attr(e.HREF);a.Router.aside(m,g)}},c=function(g){window.innerWidth<768&&a.View.Aside.hide();g&&g.preventDefault()};return{start:function(){a.dom(h.WINDOW).on("resize",b);a.dom(h.HREF_TARGET).tap(d);a.dom(h.HREF_TARGET_FROM_ASIDE).tap(c)}}}(LUNGO);LUNGO.Boot.Section=function(a){var e=a.Constants.ELEMENT,f=a.Constants.CLASS,h=a.Constants.ATTRIBUTE;return{start:function(){var b=a.Element.sections.first();a.Element.Current.section=b;a.Element.Current.article=b.children(e.ARTICLE).first();var d="#"+b.attr(h.ID);b.addClass(f.CURRENT);a.Router.History.add(d);b=0;for(d=a.Element.sections.length;b<d;b++){var c=a.dom(a.Element.sections[b]),g=c.children(e.ARTICLE).first();g.addClass(f.CURRENT);(g=g.attr(h.ID))&&a.View.Article.switchReferenceItems(g,
c)}a.View.Resize.toolbars()}}}(LUNGO);
