(function(){var a;a=function(){var e,f,g;f=[];g=function(c,b){c=c||f;c.__proto__=g.prototype;c.selector=b||"";return c};e=function(c){var b;if(c){b=e.getDomainSelector(c);return g(b,c)}else return g()};e.extend=function(c){Array.prototype.slice.call(arguments,1).forEach(function(b){var d,h;h=[];for(d in b)h.push(c[d]=b[d]);return h});return c};g.prototype=e.fn={};return e}();window.Quo=a;"$$"in window||(window.$$=a)}).call(this);
(function(){(function(a){var e,f,g,c;e=[];f=Object.prototype;a.toType=function(b){return f.toString.call(b).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()};a.isOwnProperty=function(b,d){return f.hasOwnProperty.call(b,d)};a.getDomainSelector=function(b){var d,h,m;d=null;h=[1,9,11];m=a.toType(b);if(m==="array")d=g(b);else if(m==="string")d=a.query(document,b);else if(h.indexOf(b.nodeType)>=0||b===window)d=[b];return d};a.map=function(b,d){var h,m,k;k=[];h=void 0;if(a.toType(b)==="array")for(h=0;h<b.length;){m=
d(b[h],h);m!=null&&k.push(m);h++}else for(h in b){m=d(b[h],h);m!=null&&k.push(m)}return c(k)};a.each=function(b,d){var h;h=void 0;if(a.toType(b)==="array")for(h=0;h<b.length;){if(d.call(b[h],h,b[h])===false)break;h++}else for(h in b)if(d.call(b[h],h,b[h])===false)break;return b};a.mix=function(){var b,d,h,m,k;h={};b=0;for(m=arguments.length;b<m;){d=arguments[b];for(k in d)if(a.isOwnProperty(d,k)&&d[k]!==undefined)h[k]=d[k];b++}return h};a.fn.map=function(b){return a.map(this,function(d,h){return b.call(d,
h,d)})};a.fn.instance=function(b){return this.map(function(){return this[b]})};a.fn.filter=function(b){return a([].filter.call(this,function(d){return d.parentNode&&a.query(d.parentNode,b).indexOf(d)>=0}))};a.fn.forEach=e.forEach;a.fn.indexOf=e.indexOf;g=function(b){return b.filter(function(d){return d!==void 0&&d!==null})};c=function(b){return b.length>0?[].concat.apply([],b):b}})(Quo)}).call(this);
(function(){(function(a){a.fn.attr=function(e,f){return a.toType(e)==="string"&&f===void 0?this[0].getAttribute(e):this.each(function(){return this.setAttribute(e,f)})};a.fn.data=function(e,f){return this.attr("data-"+e,f)};a.fn.val=function(e){return a.toType(e)==="string"?this.each(function(){return this.value=e}):this.length>0?this[0].value:null};a.fn.show=function(){return this.style("display","block")};a.fn.hide=function(){return this.style("display","none")};a.fn.height=function(){return this.offset().height};
a.fn.width=function(){return this.offset().width};a.fn.offset=function(){var e;e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}};a.fn.remove=function(){return this.each(function(){if(this.parentNode!=null)return this.parentNode.removeChild(this)})}})(Quo)}).call(this);
(function(){(function(a){var e,f,g,c,b,d,h;g=null;e=/WebKit\/([\d.]+)/;f={Android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,blackberry:/(BlackBerry).*Version\/([\d.]+)/,webos:/(webOS|hpwOS)[\s\/]([\d.]+)/};a.isMobile=function(){g=g||b();return g.isMobile};a.environment=function(){return g=g||b()};a.isOnline=function(){return navigator.onLine};b=function(){var m,k;k=navigator.userAgent;m={};m.browser=c(k);m.os=d(k);m.isMobile=m.os?true:false;m.screen=h();return m};
c=function(m){var k;return(k=m.match(e))?k[0]:m};d=function(m){var k,o,l;k=void 0;for(o in f)if(l=m.match(f[o])){k={name:o==="iphone"||o==="ipad"?"ios":o,version:l[2].replace("_",".")};break}return k};h=function(){return{width:window.innerWidth,height:window.innerHeight}}})(Quo)}).call(this);
(function(){(function(a){a.fn.text=function(e){return e?this.each(function(){return this.textContent=e}):this[0].textContent};a.fn.html=function(e){var f;f=a.toType(e);return f==="string"||f==="number"?this.each(function(){return this.innerHTML=e}):this[0].innerHTML};a.fn.append=function(e){return this.each(function(){var f;if(a.toType(e)==="string"){if(e){f=document.createElement("div");f.innerHTML=e;return this.appendChild(f.firstChild)}}else return this.insertBefore(e)})};a.fn.prepend=function(e){return this.each(function(){var f;
if(a.toType(e)==="string")return this.innerHTML=e+this.innerHTML;else{f=this.parentNode;return f.insertBefore(e,f.firstChild)}})};a.fn.empty=function(){return this.each(function(){this.innerHTML=null})}})(Quo)}).call(this);
(function(){(function(a){var e,f;a.query=function(g,c){var b;b=g.querySelectorAll(c);return b=Array.prototype.slice.call(b)};a.fn.find=function(g){var c;c=void 0;c=this.length===1?Quo.query(this[0],g):this.map(function(){return Quo.query(this,g)});return a(c)};a.fn.parent=function(g){var c;c=g?f(this):this.instance("parentNode");return e(c,g)};a.fn.siblings=function(g){var c;c=this.map(function(b,d){return Array.prototype.slice.call(d.parentNode.children).filter(function(h){return h!==d})});return e(c,
g)};a.fn.children=function(g){var c;c=this.map(function(){return Array.prototype.slice.call(this.children)});return e(c,g)};a.fn.get=function(g){return g===undefined?this:this[g]};a.fn.first=function(){return a(this[0])};a.fn.last=function(){return a(this[this.length-1])};a.fn.closest=function(g,c){var b,d;d=this[0];b=a(g);for(b.length||(d=null);d&&b.indexOf(d)<0;)d=d!==c&&d!==document&&d.parentNode;return a(d)};a.fn.each=function(g){this.forEach(function(c,b){return g.call(c,b,c)});return this};
f=function(g){var c;for(c=[];g.length>0;)g=a.map(g,function(b){if((b=b.parentNode)&&b!==document&&c.indexOf(b)<0){c.push(b);return b}});return c};e=function(g,c){return c===undefined?a(g):a(g).filter(c)}})(Quo)}).call(this);
(function(){(function(a){var e,f;a.fn.addClass=function(g){return this.each(function(){if(!f(g,this.className)){this.className+=" "+g;return this.className=this.className.trim()}})};a.fn.removeClass=function(g){return this.each(function(){if(f(g,this.className))return this.className=this.className.replace(g," ").replace(/\s+/g," ").trim()})};a.fn.toggleClass=function(g){return this.each(function(){if(f(g,this.className))return this.className=this.className.replace(g," ");else{this.className+=" "+
g;return this.className=this.className.trim()}})};a.fn.hasClass=function(g){return f(g,this[0].className)};a.fn.style=function(g,c){return c?this.each(function(){return this.style[g]=c}):this[0].style[g]||e(this[0],g)};f=function(g,c){return c.split(/\s+/g).indexOf(g)>=0};e=function(g,c){return document.defaultView.getComputedStyle(g,"")[c]}})(Quo)}).call(this);
(function(){(function(a){var e,f,g,c,b,d,h,m,k,o;e={TYPE:"GET",MIME:"json"};g={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"};f=0;a.ajaxSettings={type:e.TYPE,async:true,success:{},error:{},context:null,dataType:e.MIME,headers:{},xhr:function(){return new window.XMLHttpRequest},crossDomain:false,timeout:0};a.ajax=function(l){var i,j,n;j=a.mix(a.ajaxSettings,l);if(c(j.url))return a.jsonp(j);n=j.xhr();n.onreadystatechange=
function(){if(n.readyState===4){clearTimeout(i);return m(n,j)}};n.open(j.type,j.url,j.async);h(n,j);if(j.timeout>0)i=setTimeout(function(){return o(n,j)},j.timeout);n.send(j.data);return j.async?n:b(n,j)};a.jsonp=function(l){var i,j,n,p;if(l.async){j="jsonp"+ ++f;n=document.createElement("script");p={abort:function(){a(n).remove();if(j in window)return window[j]={}}};i=void 0;window[j]=function(q){clearTimeout(i);a(n).remove();delete window[j];return k(q,p,l)};n.src=l.url.replace(/=\?/,"="+j);a("head").append(n);
if(l.timeout>0)i=setTimeout(function(){return o(p,l)},l.timeout);return p}else return console.error("ERROR: Unable to make jsonp synchronous call.")};a.get=function(l,i,j,n){l+=a.serializeParameters(i);return a.ajax({url:l,success:j,dataType:n})};a.post=function(l,i,j,n){return a.ajax({type:"POST",url:l,data:i,success:j,dataType:n,contentType:"application/x-www-form-urlencoded"})};a.json=function(l,i,j){l+=a.serializeParameters(i);return a.ajax({url:l,success:j,dataType:e.MIME})};a.serializeParameters=
function(l){var i,j;j="?";for(i in l)if(l.hasOwnProperty(i)){if(j!=="?")j+="&";j+=i+"="+l[i]}return j==="?"?"":j};m=function(l,i){if(l.status===200||l.status===0)i.async&&k(b(l,i),l,i);else d("QuoJS \u00bb $$.ajax",l,i)};k=function(l,i,j){j.success.call(j.context,l,i)};d=function(l,i,j){j.error.call(j.context,l,i,j)};h=function(l,i){var j;if(i.contentType)i.headers["Content-Type"]=i.contentType;if(i.dataType)i.headers.Accept=g[i.dataType];for(j in i.headers)l.setRequestHeader(j,i.headers[j])};o=function(l,
i){l.onreadystatechange={};l.abort();d("QuoJS \u00bb $$.ajax : timeout exceeded",l,i)};b=function(l,i){var j;if(j=l.responseText)if(i.dataType===e.MIME)try{j=JSON.parse(j)}catch(n){j=n;d("Parse Error",l,i)}else if(i.dataType==="xml")j=l.responseXML;return j};c=function(l){return/=\?/.test(l)}})(Quo)}).call(this);
(function(){(function(a){var e,f;e=/complete|loaded|interactive/;f={touch:"touchstart",tap:"tap"};["touch","tap"].forEach(function(g){a.fn[g]=function(c){return a(document.body).delegate(this.selector,f[g],c)};return this});a.fn.on=function(g,c,b){return c===undefined||a.toType(c)==="function"?this.bind(g,c):this.delegate(c,g,b)};a.fn.off=function(g,c,b){return c===undefined||a.toType(c)==="function"?this.unbind(g,c):this.undelegate(c,g,b)};a.fn.ready=function(g){e.test(document.readyState)?g(a):
a.fn.addEvent(document,"DOMContentLoaded",function(){return g(a)});return this}})(Quo)}).call(this);
(function(){(function(a){var e,f,g,c,b,d,h,m,k,o,l;e=1;c={};g={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};f={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",tap:"click",doubletap:"dblclick",orientationchange:"resize"};a.Event=function(i,j){var n;n=document.createEvent("Events");n.initEvent(i,true,true,null,null,null,null,null,null,null,null,null,null,null,null);if(j){n.pageX=j.x1;n.pageY=j.y1;
n.toX=j.x2;n.toY=j.y2;n.fingers=j.fingers}return n};a.fn.bind=function(i,j){return this.each(function(){o(this,i,j)})};a.fn.unbind=function(i,j){return this.each(function(){l(this,i,j)})};a.fn.delegate=function(i,j,n){return this.each(function(p,q){o(q,j,n,i,function(r){return function(s){var u,t;if(t=a(s.target).closest(i,q).get(0)){u=a.extend(b(s),{currentTarget:t,liveFired:q});return r.apply(t,[u].concat([].slice.call(arguments,1)))}}})})};a.fn.undelegate=function(i,j,n){return this.each(function(){l(this,
j,n,i)})};a.fn.trigger=function(i,j){if(a.toType(i)==="string")i=a.Event(i,j);return this.each(function(){this.dispatchEvent(i)})};a.fn.addEvent=function(i,j,n){return i.addEventListener?i.addEventListener(j,n,false):i.attachEvent?i.attachEvent("on"+j,n):i["on"+j]=n};a.fn.removeEvent=function(i,j,n){return i.removeEventListener?i.removeEventListener(j,n,false):i.detachEvent?i.detachEvent("on"+j,n):i["on"+j]=null};o=function(i,j,n,p,q){var r;j=h(j);r=k(i);r=c[r]||(c[r]=[]);q=q&&q(n,j);j={event:j,callback:n,
selector:p,proxy:d(q,n,i),delegate:q,index:r.length};r.push(j);return a.fn.addEvent(i,j.event,j.proxy)};l=function(i,j,n,p){var q;j=h(j);q=k(i);return m(q,j,n,p).forEach(function(r){delete c[q][r.index];return a.fn.removeEvent(i,r.event,r.proxy)})};k=function(i){return i._id||(i._id=e++)};h=function(i){return(a.isMobile()?i:f[i])||i};d=function(i,j,n){j=i||j;return function(p){var q;q=j.apply(n,[p].concat(p.data));q===false&&p.preventDefault();return q}};m=function(i,j,n,p){return(c[i]||[]).filter(function(q){return q&&
(!j||q.event===j)&&(!n||q.fn===n)&&(!p||q.selector===p)})};b=function(i){var j;j=a.extend({originalEvent:i},i);a.each(g,function(n,p){j[n]=function(){this[p]=function(){return true};return i[n].apply(i,arguments)};return j[p]=function(){return false}});return j}})(Quo)}).call(this);
(function(){(function(a){var e,f,g,c,b,d,h,m,k,o,l,i,j,n;e={};f=void 0;["doubleTap","hold","swipe","swiping","swipeLeft","swipeRight","swipeUp","swipeDown","drag"].forEach(function(p){a.fn[p]=function(q){return this.on(p,q)}});a(document).ready(function(){return m()});m=function(){var p;p=a(document.body);p.bind("touchstart",l);p.bind("touchmove",o);p.bind("touchend",k);return p.bind("touchcancel",c)};l=function(p){var q,r,s;r=Date.now();q=r-(e.last||r);s=g(p);f&&clearTimeout(f);e={el:a(i(s.target)),
x1:s.pageX,y1:s.pageY,isDoubleTap:q>0&&q<=250?true:false,last:r,fingers:b(p)};return setTimeout(d,650)};o=function(p){var q;q=g(p);e.x2=q.pageX;e.y2=q.pageY;if(h(p))return e.el.trigger("swiping",e)};k=function(p){if(e.isDoubleTap)return n("doubleTap",true);else if(e.x2>0||e.y2>0){if(h(p))if(e.fingers===1){n("swipe",false);p=j(e.x1,e.x2,e.y1,e.y2);n(p,false)}else n("drag",false);return c()}else{e.el&&n("tap");return f=setTimeout(c,250)}};n=function(p,q){e.el.trigger(p,e);return q&&c()};c=function(){e=
{};return clearTimeout(f)};h=function(){return e.el&&(Math.abs(e.x1-e.x2)>30||Math.abs(e.y1-e.y2)>30)};g=function(p){return a.isMobile()?p.touches[0]:p};i=function(p){return"tagName"in p?p:p.parentNode};j=function(p,q,r,s){return Math.abs(p-q)>=Math.abs(r-s)?p-q>0?"swipeLeft":"swipeRight":r-s>0?"swipeUp":"swipeDown"};d=function(){if(e.last&&Date.now()-e.last>=650){n("hold");c()}};b=function(p){return p.touches?p.touches.length:1}})(Quo)}).call(this);/*
   http://www.github.com/tapquo/lungo/blob/master/LICENSE.txt
 @version   1.2
 @link      https://github.com/TapQuo/Lungo.js

 @author   Javier Jimenez Villar <javi@tapquo.com> || @soyjavi
 @author   Guillermo Pascual <pasku@tapquo.com> || @pasku1
*/
var LUNGO=LUNGO||{};LUNGO.VERSION="1.2";LUNGO.Attributes||(LUNGO.Attributes={});LUNGO.Data||(LUNGO.Data={});LUNGO.Sugar||(LUNGO.Sugar={});LUNGO.View||(LUNGO.View={});LUNGO.Device||(LUNGO.Device={});LUNGO.ready||(LUNGO.ready=Quo().ready);LUNGO.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",BODY:"body",DIV:"div",LIST:"<ul></ul>",SPAN:"<span>&nbsp;</span>"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",CURRENT:"current",RIGHT:"onright",LEFT:"onleft",HORIZONTAL:"horizontal",SMALL:"small"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",TARGET:"target",FIRST:"first",LAST:"last",
EMPTY:""},BINDING:{START:"{{",END:"}}",KEY:"value",PARSER:/\{{.*?\}}/gi},ERROR:{CREATE_SCROLL:"ERROR: Impossible to create a <scroll> without ID.",BINDING_DATA_TYPE:"ERROR: Processing the type of binding data.",BINDING_TEMPLATE:"ERROR: Binding Template not exists >> ",BINDING_LIST:"ERROR: Processing parameters for list binding.",DATABASE:"ERROR: Connecting to Data.Sql.",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource."}};LUNGO.App=function(a){var e={id:1,name:"lungo_app",version:1,icon:""};return{init:function(f){e=a.Core.mix(e,f);a.Boot()},get:function(f){return e[f]}}}(LUNGO);LUNGO.Core=function(a,e){var f=Array.prototype,g=function(d,h){return e.isOwnProperty(d,h)},c=function(d){return e.toType(d)},b=function(d){return f.slice.call(d,0)};return{log:function(d,h){a.Core.isMobile()||console[d===1?"log":d===2?"warn":"error"](h)},execute:function(){var d=b(arguments),h=d.shift();c(h)==="function"&&h.apply(null,d)},bind:function(d,h){return function(){return h.apply(d,b(arguments))}},mix:function(){for(var d=d||{},h=0,m=arguments.length;h<m;h++){var k=arguments[h],o;for(o in k)if(g(k,
o))d[o]=k[o]}return d},isOwnProperty:g,toType:c,toArray:b,isMobile:function(){return e.isMobile()},environment:function(){return e.environment()},orderByProperty:function(d,h,m){var k=m==="desc"?-1:1;return d.sort(function(o,l){return o[h]<l[h]?-k:o[h]>l[h]?k:0})},parseUrl:function(d){var h=d.lastIndexOf("#");if(h>0)d=d.substring(h);else if(h===-1)d="#"+d;return d},findByProperty:function(d,h,m){for(var k=null,o=0,l=d.length;o<l;o++){var i=d[o];if(i[h]==m){k=i;break}}return k}}}(LUNGO,Quo);LUNGO.dom=function(a){return $$(a)};LUNGO.Service=function(a,e){var f={MINUTE:"minute",HOUR:"hour",DAY:"day"},g=function(c,b){var d=false,h=a.Data.Storage.persistent("lungojs_service_cache");if(h){h=h[c];d=(new Date).getTime();h=(new Date(h)).getTime();var m=d-h;d=b.split(" ");h=d[1];m=m/1E3/60;if(h.indexOf(f.HOUR)>=0)m/=60;else if(h.indexOf(f.DAY)>=0)m=m/60/24;d=m<d[0]?true:false}return d};return{get:function(c,b,d,h){return e.get(c,b,d,h)},post:function(c,b,d,h){return e.post(c,b,d,h)},json:function(c,b,d){return e.json(c,b,d)},cache:function(c,
b,d,h,m){var k=c+e.serializeParameters(b);if(g(k,d)){if(c=a.Data.Storage.persistent(k))return h.call(h,c)}else return e.get(c,b,function(o){var l=a.Data.Storage.persistent("lungojs_service_cache")||{};l[k]=new Date;a.Data.Storage.persistent("lungojs_service_cache",l);a.Data.Storage.persistent(k,o);h.call(h,o)},m)},Settings:e.ajaxSettings}}(LUNGO,Quo);LUNGO.Element={sections:null,Current:{section:null,article:null,aside:null},asides:null,toolbars:null};LUNGO.Fallback=function(a){return{androidInputs:function(e,f){environment=a.Core.environment();if(environment.isMobile&&environment.os.name==="android"&&environment.os.version<"4")for(var g=a.dom(e+" input, "+e+" textarea, "+e+" select"),c=0,b=g.length;c<b;c++)f?g[c].removeAttribute("disabled"):g[c].setAttribute("disabled","disabled")},positionFixed:function(e){environment=a.Core.environment();environment.isMobile&&environment.os.name==="ios"&&environment.os.version>="4.2"&&e.style("position","fixed")}}}(LUNGO);LUNGO.Router=function(a){var e=a.Constants.CLASS,f=a.Constants.ELEMENT,g=a.Constants.TRIGGER,c=a.Constants.ATTRIBUTE;return{section:function(b){b=a.Core.parseUrl(b);var d=a.Element.Current.section;if(b!=="#"+d.attr("id")?true:false){var h=a.Element.sections.siblings(f.SECTION+b);if(h.length>0){d.removeClass(e.SHOW).addClass(e.HIDE).trigger(g.UNLOAD);h.addClass(e.SHOW).trigger(g.LOAD);a.Element.Current.section=h;a.Element.Current.article=h.find(f.ARTICLE+"."+e.CURRENT);a.Router.History.add(b)}}},article:function(b,
d,h){d=a.Core.parseUrl(d);b=a.Element.Current.article;if(d!=="#"+b.attr("id")?true:false){var m=a.Element.Current.section.find(f.ARTICLE+d);if(m.length>0){b.parent("section").attr("id")===m.parent("section").attr("id")&&b.removeClass(e.CURRENT).trigger(g.UNLOAD);m.addClass(e.CURRENT).trigger(g.LOAD);a.Element.Current.article=m;a.View.Article.switchNavItems(d);a.View.Article.switchReferenceItems(d,a.Element.Current.section);h&&a.View.Article.title(h.data(c.TITLE))}}},aside:function(b,d){d=a.Core.parseUrl(d);
a.View.Aside.toggle(d)},back:function(){a.Element.Current.section.removeClass(e.SHOW).trigger(g.UNLOAD);a.Router.History.removeLast();target=a.Element.sections.siblings(f.SECTION+a.Router.History.current());target.removeClass(e.HIDE).addClass(e.SHOW);a.Element.Current.section=target}}}(LUNGO);LUNGO.Router.History=function(){var a=[],e=function(){return a[a.length-1]};return{add:function(f){f!==e()&&a.push(f)},current:e,removeLast:function(){a.length-=1}}}();LUNGO.View.Article=function(a){var e=a.Constants.CLASS,f=a.Constants.ATTRIBUTE,g={NAVIGATION_ITEM:'a[href][data-target="article"]',REFERENCE_LINK:" a[href][data-article]",TITLE_OF_ARTICLE:"header .title, footer .title"};return{title:function(c){c&&a.Element.Current.section.find(g.TITLE_OF_ARTICLE).text(c)},switchReferenceItems:function(c,b){c=c.replace("#","");for(var d=b.find(g.REFERENCE_LINK),h=0,m=d.length;h<m;h++){var k=a.dom(d[h]);k.data(f.ARTICLE)===c?k.show():k.hide()}},switchNavItems:function(c){a.Element.Current.section.find(g.NAVIGATION_ITEM).removeClass(e.CURRENT);
a.Element.Current.section.find('a[href="'+c+'"][data-target="article"]').addClass(e.CURRENT)}}}(LUNGO);LUNGO.View.Resize=function(a){var e=a.Constants.ATTRIBUTE;return{toolbars:function(){if(!a.Element.toolbars)a.Element.toolbars=a.dom(".toolbar nav, .groupbar");for(var f=a.Element.toolbars,g=0,c=f.length;g<c;g++){var b=a.dom(f[g]),d=b.children();b=100/b.children().length;d.style(e.WIDTH,b+e.PERCENT)}}}}(LUNGO);LUNGO.View.Template=function(a){var e=a.Constants.ERROR,f={};return{create:function(g,c){f[g]=c},exists:function(g){return f[g]?true:false},get:function(g){return f[g]},render:function(g,c,b,d){if(a.View.Template.exists(c)){g=a.dom(g);c=this.markup(c,b);g.html(c);a.Core.execute(d)}else a.Core.log(3,e.BINDING_TEMPLATE+c)},markup:function(g,c){return a.View.Template.Binding.create(g,c)}}}(LUNGO);LUNGO.View.Template.Binding=function(a){var e=a.Constants.BINDING,f=a.Constants.ERROR,g=function(c,b){var d,h;for(h in c)if(a.Core.isOwnProperty(c,h)&&c[h]!==null){d=RegExp(e.START+h+e.END,"g");b=b.replace(d,c[h])}return b.replace(e.PARSER,"")};return{create:function(c,b){var d;var h=a.View.Template.get(c),m=a.Core.toType(b);if(m==="array"){d="";m=0;for(var k=b.length;m<k;m++)d+=g(b[m],h);d=d}else if(m==="object")d=g(b,h);else a.Core.log(3,f.BINDING_DATA_TYPE);return d},dataAttribute:function(c,b){var d=
c.data(b.tag);if(d){d=b.html.replace(e.START+e.KEY+e.END,d);c.prepend(d)}}}}(LUNGO);LUNGO.View.Template.List=function(a){var e=a.Constants.ERROR;return{create:function(f){f.container=a.dom(f.el).children().first();var g=false,c=!!f.container.length>0,b=a.View.Template.exists(f.template);if(c&&b){c=a.Core.toType(f.data);if(c==="array"||c==="object")g=true}else a.Core.log(3,e.BINDING_LIST);if(g){if(f.order&&f.order.field&&f.order.type)f.data=a.Core.orderByProperty(f.data,f.order.field,f.order.type);f.data=f.data;a.View.Template.render(f.container.selector,f.template,f.data)}},append:function(f){var g=
a.View.Template.markup(f.template,f.data);a.dom(f.el).children().first().append(g)},prepend:function(f){var g=a.View.Template.markup(f.template,f.data);a.dom(f.el).children().first().prepend(g)}}}(LUNGO);LUNGO.View.Aside=function(a){var e=a.Constants.ELEMENT,f=a.Constants.CLASS,g=a.Constants.ATTRIBUTE,c=function(b){b=b.attr(g.CLASS);var d="";if(b){d+=b.indexOf(f.RIGHT)>-1?f.RIGHT:"";d+=b.indexOf(f.SMALL)>-1?f.SMALL:""}return d};return{toggle:function(b){var d=a.Element.asides.siblings(e.ASIDE+b);if(d.length>0)d.hasClass(f.CURRENT)?a.View.Aside.hide():a.View.Aside.show(b)},show:function(b){b=a.Element.asides.siblings(e.ASIDE+b);if(b.length>0){a.Element.Current.aside=b;var d=c(b);b.addClass(f.CURRENT);
a.Element.Current.section.addClass(d).addClass(f.ASIDE)}},hide:function(){var b=a.Element.Current.aside;if(b){var d=c(b);a.Element.Current.section.removeClass(f.ASIDE).removeClass(d);setTimeout(function(){b.removeClass(f.CURRENT);a.Element.Current.aside=null},300)}}}}(LUNGO);LUNGO.View.Element=function(a){var e=a.Constants.ATTRIBUTE,f=a.Constants.BINDING,g={BUBBLE:".bubble.count",PROGRESS_VALUE:" .value",PROGRESS_PERCENTAGE:" .value .label"};return{count:function(c,b){var d=a.dom(c);if(d)if(b>0){var h=d.children(g.BUBBLE);if(h.length>0)h.html(b);else{h=LUNGO.Attributes.Data.Count.html.replace(f.START+f.KEY+f.END,b);d.append(h)}}else d.children(g.BUBBLE).remove()},progress:function(c,b,d){if(a.dom(c)){b+=e.PERCENT;a.dom(c+g.PROGRESS_VALUE).style(e.WIDTH,b);a.dom(c+g.PROGRESS_PERCENTAGE).html(d?
b:e.EMPTY)}},loading:function(c,b){var d=a.dom(c);if(d){var h=LUNGO.Attributes.Data.Loading.html.replace(f.START+f.KEY+f.END,b);d.append(h)}}}}(LUNGO);LUNGO.Attributes.Data={Search:{tag:"search",selector:".list",html:'<li class="search {{value}}"><input type="search" placeholder="Search..."><a href="#" class="button" data-icon="search"></a></li>'},Count:{tag:"count",selector:"*",html:'<span class="bubble count">{{value}}</span>'},Search:{tag:"search",selector:"*",html:'<input type="search" placeholder="{{value}}"/><a href="#" class="button" data-icon="search"></a>'},Progress:{tag:"progress",selector:"*",html:'<div class="progress">                    <span class="bar"><span class="value" style="width:{{value}};"><span class="label"></span></span></span>                </div>'},
Label:{tag:"label",selector:"a",html:"<abbr>{{value}}</abbr>"},Icon:{tag:"icon",selector:"*",html:'<span class="icon {{value}}"></span>'},Image:{tag:"image",selector:"*",html:'<img src="{{value}}" class="icon" />'},Title:{tag:"title",selector:"header, footer, article",html:'<span class="title centered">{{value}}</span>'},Loading:{tag:"loading",selector:"*",html:'<div class="loading {{value}}">                    <span class="top"></span>                    <span class="right"></span>                    <span class="bottom"></span>                    <span class="left"></span>                </div>'},
Back:{tag:"back",selector:"header, footer",html:'<nav class="onleft"><a href="#back" data-target="section" class="onleft"><span class="icon {{value}}"></span></a></nav>'}};LUNGO.Data.Cache=function(a,e){var f={},g=function(b){return arguments.length===1?f[b]:f[arguments[0]]?f[arguments[0]][arguments[1]]:e},c=function(b){return f[b]?true:false};return{set:function(b,d){f[b]=c(b)?a.Core.mix(g(b),d):d},get:g,remove:function(b){if(arguments.length===1)delete f[b];else delete f[arguments[0]][arguments[1]]},exists:c}}(LUNGO);LUNGO.Data.Sql=function(a){var e=a.Constants.ERROR,f={name:"lungo_db",version:"1.0",size:65536,schema:[]},g=null,c=function(k,o){a.Core.log(1,"lng.Data.Sql >> "+k);g.transaction(function(l){l.executeSql(k,[],function(i,j){d(o,j)},function(i){i.executedQuery=k;m.apply(null,arguments)})})},b=function(k,o){var l="",i;for(i in k)if(a.Core.isOwnProperty(k,i)){var j=k[i];if(l)l+=" "+o+" ";l+=i+"=";l+=isNaN(j)?'"'+j+'"':j}return l},d=function(k,o){a.Core.toType(k)==="function"&&setTimeout(k,100,o)},h=function(k,
o){var l="",i="",j;for(j in o)if(a.Core.isOwnProperty(o,j)){var n=o[j];l+=l?", "+j:j;if(i)i+=", ";i+=isNaN(n)?'"'+n+'"':n}c("INSERT INTO "+k+" ("+l+") VALUES ("+i+")")},m=function(k,o){a.Core.log(3,"lng.Data.Sql >> "+o.code+": "+o.message+" \n Executed query: "+k.executedQuery)};return{init:function(k){f=a.Core.mix(f,k);if(g=openDatabase(f.name,f.version,f.name,f.size)){k=f.schema;var o=k.length;if(o)for(var l=0;l<o;l++){var i=k[l];i.drop===true&&c("DROP TABLE IF EXISTS "+i.name);var j=i.name;i=i.fields;
var n="",p=void 0;for(p in i)if(a.Core.isOwnProperty(i,p)){if(n)n+=", ";n+=p+" "+i[p]}c("CREATE TABLE IF NOT EXISTS "+j+" ("+n+");")}}else a.Core.log(3,e.DATABASE)},select:function(k,o,l){o=o?" WHERE "+b(o,"AND"):"";c("SELECT * FROM "+k+o,function(i){for(var j=[],n=0,p=i.rows.length;n<p;n++)j.push(i.rows.item(n));d(l,j)})},insert:function(k,o){if(a.Core.toType(o)==="object")h(k,o);else for(row in o)h(k,o[row])},update:function(k,o,l){k="UPDATE "+k+" SET "+b(o,",");if(l)k+=" WHERE "+b(l,"AND");c(k)},
drop:function(k,o){var l=o?" WHERE "+b(o,"AND"):"";c("DELETE FROM "+k+l+";")},execute:c}}(LUNGO);LUNGO.Data.Storage=function(){var a={PERSISTENT:"localStorage",SESSION:"sessionStorage"},e=function(f,g,c){f=window[f];if(c){f=f;c=c;c=JSON.stringify(c);f.setItem(g,c)}else{c=c;c=f.getItem(g);return JSON.parse(c)}};return{session:function(f,g){return e(a.SESSION,f,g)},persistent:function(f,g){return e(a.PERSISTENT,f,g)}}}(LUNGO);LUNGO.Boot=function(a){return function(){a.Boot.Resources.start();a.Boot.Events.start();a.Boot.Data.start();a.Boot.Section.start();a.Boot.Article.start();a.Boot.Stats.start()}}(LUNGO);LUNGO.Boot.Resources=function(a,e){var f=a.Constants.ELEMENT,g=a.Constants.ERROR,c={SECTION:"sections",TEMPLATE:"templates",SCRIPT:"scripts"},b=function(d){return e.ajax({url:d,async:false,dataType:"html",error:function(){console.error("[ERROR] Loading url",arguments)}})};return{start:function(){var d=a.App.get("resources");for(resource_key in d){var h=resource_key,m=d[resource_key];for(index in m){var k=/http/.test(m[index])?m[index]:"app/"+h+"/"+m[index];try{var o=b(k);switch(h){case c.SECTION:a.Core.toType(o)===
"string"&&a.dom(f.BODY).append(o);break;case c.TEMPLATE:var l=document.createElement(f.DIV);l.innerHTML=o;var i=a.dom(l.firstChild).data("template");i&&a.View.Template.create(i,o)}}catch(j){a.Core.log(3,g.LOADING_RESOURCE+" "+j)}}}a.Element.sections=a.dom(f.SECTION);a.Element.asides=a.dom(f.ASIDE)}}}(LUNGO,Quo);LUNGO.Boot.Stats=function(a){var e=function(){a.Service.post("http://www.lungojs.com/stats/",{name:a.App.get("name"),version:a.App.get("version"),icon:a.App.get("icon")},function(){})};return{start:function(){a.Core.isMobile()&&e()}}}(LUNGO);LUNGO.Boot.Layout=function(a){var e=null,f=null,g=a.Constants.ELEMENT,c=a.Constants.ATTRIBUTE,b=function(){if(!location.hash||!e.addEventListener){e.scrollTo(0,1);var d=1,h=setInterval(function(){if(f.body){clearInterval(h);d="scrollTop"in f.body?f.body.scrollTop:1;e.scrollTo(0,d===1?0:1)}},15);e.addEventListener("load",function(){setTimeout(function(){e.scrollTo(0,d===1?0:1)},0)},false)}};return{start:function(){if(a.Core.isMobile()){e=window;f=e.document;if(e.innerHeight==356){a.dom(g.BODY).style(c.HEIGHT,
416+c.PIXEL);b()}}}}}(LUNGO);LUNGO.Boot.Article=function(a){var e=a.Constants.ATTRIBUTE,f=a.Constants.ELEMENT,g={LIST_IN_ARTICLE:"article.list, aside.list",CHECKBOX_IN_ARTICLE:".checkbox, .radio"},c=function(h,m){for(var k=a.dom(h),o=0,l=k.length;o<l;o++){var i=a.dom(k[o]);a.Core.execute(m,i)}},b=function(h){if(h.children().length===0){h.attr(e.ID);h.append(f.LIST)}},d=function(h){h.append(f.SPAN)};return{start:function(){c(g.LIST_IN_ARTICLE,b);c(g.CHECKBOX_IN_ARTICLE,d)}}}(LUNGO);LUNGO.Boot.Data=function(a){return{start:function(){var e=a.Attributes.Data,f;for(f in e)if(a.Core.isOwnProperty(e,f))for(var g=e[f],c=a.dom(g.selector),b=0,d=c.length;b<d;b++){var h=a.dom(c[b]);a.View.Template.Binding.dataAttribute(h,g)}}}}(LUNGO);LUNGO.Boot.Events=function(a){var e=a.Constants.ATTRIBUTE,f=a.Constants.ELEMENT,g={DOCUMENT:document,WINDOW:window,HREF_TARGET:"a[href][data-target]",HREF_TARGET_FROM_ASIDE:"aside a[href][data-target]",CURRENT_SECTION:"section.aside, section.current"},c=function(h){a.View.Resize.toolbars();h.preventDefault()},b=function(h){var m=a.dom(this);switch(m.data(e.TARGET)){case f.SECTION:m=m.attr(e.HREF);d();m=a.Core.parseUrl(m);m==="#back"?a.Router.back():a.Router.section(m);break;case f.ARTICLE:var k=a.Router.History.current(),
o=m.attr(e.HREF);a.Router.article(k,o,m);break;case f.ASIDE:k=a.Router.History.current();m=m.attr(e.HREF);a.Router.aside(k,m)}event.preventDefault();h.preventDefault()},d=function(h){window.innerWidth<768&&a.View.Aside.hide();h&&h.preventDefault()};return{start:function(){a.dom(g.WINDOW).on("resize",c);a.dom(g.HREF_TARGET).tap(b);a.dom(g.HREF_TARGET_FROM_ASIDE).tap(d)}}}(LUNGO);LUNGO.Boot.Section=function(a){var e=a.Constants.ELEMENT,f=a.Constants.CLASS,g=a.Constants.ATTRIBUTE;return{start:function(){var c=a.Element.sections.first();a.Element.Current.section=c;a.Element.Current.article=c.children(e.ARTICLE).first();var b="#"+c.attr(g.ID);c.addClass(f.CURRENT);a.Router.History.add(b);c=0;for(b=a.Element.sections.length;c<b;c++){var d=a.dom(a.Element.sections[c]),h=d.children(e.ARTICLE).first();h.addClass(f.CURRENT);(h=h.attr(g.ID))&&a.View.Article.switchReferenceItems(h,
d)}a.View.Resize.toolbars()}}}(LUNGO);
